{% extends "base.html" %}

{% block content %}
{% with messages = get_flashed_messages() %}
  {% if messages %}
      <div class="notification is-success is-light">
          {{ messages[0] }}
      </div>
  {% endif %}
  {% endwith %}
<h1 class="title is-1 has-text-left"><a href="/view-song/{{song.id}}">{{ song.id }}: {{ song.name }}</a></h1>
<div class="table-container">
    <table class="table">
        <thead>
            <th>Track Name</th>
            <th>Track Artists</th>
            <th>Track ID</th>
            <th>Track Link</th>
        </thead>
        <tbody>
            {% for search_result in search_results %}
                <tr>
                    <td>{{ search_result.name }}</td>
                    <td>{{ search_result.artists }}</td>
                    <td>{{ search_result.id }}</td>
                    <td><a href="https://open.spotify.com/track/{{ search_result.id }}" target="_blank">Open with Spotify</a></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
